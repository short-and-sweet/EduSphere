{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <script>
        // JavaScript로 세션 정보를 확인하고 alert를 띄우는 함수
        function checkSignupSuccess() {
            console.log("test");
            console.log(sessionStorage.getItem('signup_success'));
            // 세션에 signup_success 정보가 있는지 확인
            if (sessionStorage.getItem('signup_success')) {
                // alert를 띄움
                console.log("test");
                alert("회원가입이 정상적으로 완료되었습니다.");
                // 세션에서 정보를 삭제
                sessionStorage.removeItem('signup_success');
            }
        }
    
        // 페이지 로드 시 함수 호출
        window.onload = function() {
            checkSignupSuccess();
        };
    </script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>
<body>
    <div class="container">
        <div class="page-container">
        
            <!-- Header -->
            <div class="Header-Container">
                <!-- Header 내용물 -->
                <div class="Header-Wrap">
                    <!-- 로고 -->
                    <div class="Logo-Container">
                        <a class="Logo-Anchor" href="{% url 'main_page' %}">
                            <div class="text-3d">
                                Company 
                            </div>
                        </a>
                    </div>
                    <!-- 검색? -->
                    <div class="Search-Container">
                        <div class="Search-Wrap">
                            <form class="d-flex Search-Box" role="search">
                                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                                <button class="btn btn-outline-dark" type="submit">Search</button>
                            </form>
                        </div>
                    </div>
                    <!-- 로그인 버튼 -->
                    <div class="Login-Container">
                        <div class="Login-Wrap">
                            <div class="Login-Box">
                                <a href="{% url 'login_page' %}" class="btn btn-outline-secondary btn-custom">Login</a>
                            </div>
                        </div>
                    </div>
                    <!-- 회원가입 버튼 -->
                    <div class="Register-Container">
                        <div class="Register-Wrap">
                            <a href="{% url 'signup_page' %}" class="btn btn-outline-dark btn-custom">Register</a>
                        </div>
                    </div>
                    <!-- 로그아웃 버튼 -> 회원가입위치 (일반 사용자) 300px -->
                    <!-- 로그아웃(회원가입) + 관리자버튼(로그인) 300 px  -->
                    <!-- <div class="Logout-Container">
                        <div class="Logout-Wrap">
                            <div class="Logout-Box">
                                <a href="" class="btn btn-outline-dark btn-custom">Logout</a>
                            </div>
                        </div>
                    </div> -->
                </div>
            </div>
            <!-- Navbar -->
            <div class="Navbar-Container">
                <div class="Navbar-Wrap">
                    <div class="Navbar-Box">
                        <a class="Navbar-Anchor" href="{% url 'board_list' %}">게시판</a>
                    </div>
                    <div class="Navbar-Box">
                        <a class="Navbar-Anchor" href="{% url 'main_page' %}">Home</a>
                    </div>
                    <div class="Navbar-Box">
                        <a class="Navbar-Anchor" href="#">과제제출</a>
                    </div>
                    <div class="Navbar-Box">
                        <a class="Navbar-Anchor" href="#">온라인퀴즈</a>
                    </div>
                </div>
            </div>
            <!-- Side Bar & Content -->
            <div class="SideBar-Content-Wrap">
                <!-- Side Bar -->
                <div class="SideBar-Contaniner">
                    <div class="SideBar-Info">
                        <div class="Profile-wrap">
                            <img class="Profile-image" src="{% static 'images/hun.jpg' %}"> 
                        </div>
                        <div class="Info-wrap">
                            <div class="Info-name">이름: 진켄</div>
                            <div class="Info-role">등급: 관리자</div>    
                        </div>
                        
                    </div>
                    <div class="SideBar-Action">
                        <div class="Action-Wrap">
                            <a class="Action-Board" href="{% url 'board_create' %}">카페 글쓰기</a>
                        </div>
                    </div>
                </div>
                <!-- Content -->
                <div class="Content-Container">
                    <div class="Content-Wrap">
                        <div class="Content-Box">
                            <div class="title-Container">
                                <div class="title-Box">
                                    <div class="title-Div">게시판</div>
                                </div>
                            </div>
                            <div class="table-Container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col" style="width: 10%;"></th>
                                            <th scope="col" style="width: 50%;">제목</th>
                                            <th scope="col" style="width: 20%;">작성자</th>
                                            <th scope="col" style="width: 20%;">날짜</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for board in latest_boards %}
                                        <tr>
                                            <th scope="row">{{ forloop.counter }}</th>
                                            <td><a class="detail-Anchor" href="{% url 'board_detail' board.id %}">{{ board.title }}</a></td>
                                            <td>{{ board.author.username }}</td>
                                            <td>{{ board.created_at|date:"Y.m.d" }}</td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="Content-Wrap">
                        <div class="Content-Box">
                            <div class="title-Container">
                                <div class="title-Box">
                                    <div class="title-Div">과제제출</div>
                                </div>
                            </div>
                            <div class="table-Container">
                                <table class="table">
                                    <thead>
                                      <tr>
                                        <th scope="col" style="width: 10%;"></th>
                                        <th scope="col" style="width: 50%;">제목</th>
                                        <th scope="col" style="width: 20%;">작성자</th>
                                        <th scope="col" style="width: 20%;">날짜</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr>
                                        <th scope="row">1</th>
                                        <td><a class="detail-Anchor" href="{% url 'board_detail' 0 %}">***</a></td>
                                        <td>***</td>
                                        <td>***</td>
                                      </tr>
                                      <tr>
                                        <th scope="row">2</th>
                                        <td><a class="detail-Anchor" href="{% url 'board_detail' 0 %}">***</a></td>
                                        <td>***</td>
                                        <td>***</td>
                                      </tr>
                                      <tr>
                                        <th scope="row">3</th>
                                        <td><a class="detail-Anchor" href="{% url 'board_detail' 0 %}">***</a></td>
                                        <td>***</td>
                                        <td>***</td>
                                      </tr>
                                      <tr>
                                        <th scope="row">4</th>
                                        <td><a class="detail-Anchor" href="{% url 'board_detail' 0 %}">***</a></td>
                                        <td>***</td>
                                        <td>***</td>
                                      </tr>
                                      <tr>
                                        <th scope="row">5</th>
                                        <td><a class="detail-Anchor" href="{% url 'board_detail' 0 %}">***</a></td>
                                        <td>***</td>
                                        <td>***</td>
                                      </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>
            <!-- Footer -->
            <div class="Footer-Container">
                <div class="Footer-Wrap">
                    <div class="terms-wrap">
                        <div class="terms-Anchor">
                            <a href="" class="Anchor-ani">회사소개</a>
                        </div>
                        <div class="terms-Anchor Anchor-Middle">
                            <a href="" class="Anchor-ani">이용약관</a>
                        </div>
                        <div class="terms-Anchor">
                            <a href="" class="Anchor-ani">개인정보 처리 방침</a>
                        </div>
                    </div>
                    <div class="Copyright-Wrap">
                        Copyright ⓒ 2024 Company. All rights reserved.
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>